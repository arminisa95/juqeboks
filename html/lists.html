<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Lists || Juke</title>
    <script>
        if (window.top === window.self) {
            window.location.replace('../index.html#/lists');
        }
    </script>
    <link rel="stylesheet" href="../css/styles.css?v=20250111-MOBILE">
    <link rel="stylesheet" href="../css/lists.css?v=20250111-MOBILE">
    <link rel="stylesheet" href="../css/musicplayer.css?v=20250111-MOBILE">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="../js/player.js?v=20250111-FIX" defer></script>
    <script src="../js/auth.js?v=20250111-FIX" defer></script>
    <script src="../js/lists.js?v=20250111-FIX" defer></script>
    <script>
        // Mobile functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile search toggle
            const mobileSearchBar = document.querySelector('.mobile-search-bar');
            const listsShell = document.querySelector('.lists-shell');
            
            if (mobileSearchBar && listsShell) {
                // Show search when focused
                mobileSearchBar.addEventListener('focus', () => {
                    listsShell.classList.add('mobile-search-active');
                });
                
                // Hide search when blurred
                mobileSearchBar.addEventListener('blur', () => {
                    setTimeout(() => {
                        listsShell.classList.remove('mobile-search-active');
                    }, 200);
                });
                
                // Handle search
                mobileSearchBar.addEventListener('input', (e) => {
                    const searchTerm = e.target.value.toLowerCase();
                    // You can implement search functionality here
                    console.log('Searching for:', searchTerm);
                });
            }
            
            // Mobile navigation active states
            const mobileNavItems = document.querySelectorAll('.mobile-nav-item');
            mobileNavItems.forEach(item => {
                if (item.href === window.location.href) {
                    item.classList.add('active');
                }
            });
            
            // Horizontal scroll with touch for navigation
            const listsNavItems = document.querySelector('.lists-nav-items');
            if (listsNavItems) {
                let isDown = false;
                let startX;
                let scrollLeft;
                
                listsNavItems.addEventListener('mousedown', (e) => {
                    isDown = true;
                    startX = e.pageX - listsNavItems.offsetLeft;
                    scrollLeft = listsNavItems.scrollLeft;
                });
                
                listsNavItems.addEventListener('mouseleave', () => {
                    isDown = false;
                });
                
                listsNavItems.addEventListener('mouseup', () => {
                    isDown = false;
                });
                
                listsNavItems.addEventListener('mousemove', (e) => {
                    if (!isDown) return;
                    e.preventDefault();
                    const x = e.pageX - listsNavItems.offsetLeft;
                    const walk = (x - startX) * 2;
                    listsNavItems.scrollLeft = scrollLeft - walk;
                });
            }
        });
    </script>
</head>
<body>
    <header>
        <a href="../index.html">
            <img src="../images/juqe.png" alt="Juke Logo" class="logo-img">
        </a>

        <nav>
            <div class="nav-buttons">
                <a href="user.html" class="feed">_feed</a>
                <a href="lists.html" class="artists">_lists</a>
                <a href="disqo.html" class="lists">_disqo</a>
            </div>
            <div class="search-container">
                <input type="text" class="search-bar" placeholder="Search for music, artists...">
                <button class="search-btn"><i class="fas fa-search"></i></button>
            </div>
            <div class="header-right">
                <div class="nav-buttons">
                    <a href="upload.html" class="app">_uqload</a>
                    <a href="koleqtion.html" class="register">_koleqtion</a>
                    <a href="login.html" class="login auth-login">_U</a>
                    <a href="profile.html" class="login auth-user" style="display:none;">_U</a>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- Mobile Search Bar -->
        <input type="text" class="mobile-search-bar" placeholder="Search for music, artists...">
        
        <div class="lists-shell" id="listsShell">
            <aside class="lists-nav" aria-label="Lists directories">
                <div class="lists-nav-title">
                    _lists
                    <button class="lists-add-btn" type="button" id="addPlaylistBtn" aria-label="Add playlist">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="lists-nav-subtitle">Directories</div>
                <div class="lists-nav-items" role="tablist">
                    <button class="lists-nav-item" type="button" role="tab" data-view="liked">_liked tracks</button>
                </div>
                <div class="lists-nav-footer">Switch with ↑/↓, open with Enter</div>
            </aside>

            <section class="lists-content" aria-label="Lists content">
                <div class="lists-panel" id="listsPanelLiked" data-panel="liked" role="tabpanel">
                    <div class="lists-panel-header">
                        <div class="lists-panel-title">_liked tracks</div>
                        <div class="lists-panel-hint">Your liked tracks</div>
                    </div>
                    <div id="likedTracks" class="cards-grid"></div>
                </div>

                <div class="lists-panel" id="listsPanelPlaylist" data-panel="playlist" role="tabpanel" style="display:none;">
                    <div class="lists-panel-header">
                        <button class="lists-back" type="button" id="playlistBack">Back</button>
                        <div class="lists-panel-title" id="playlistTitle">Playlist</div>
                        <div class="lists-panel-hint" id="playlistStatus"></div>
                    </div>
                    <div id="playlistTracks" class="lists-tracklist"></div>
                </div>
            </section>
        </div>
    </main>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav">
        <a href="user.html" class="mobile-nav-item">
            <i class="fas fa-home"></i>
            <span>Feed</span>
        </a>
        <a href="lists.html" class="mobile-nav-item active">
            <i class="fas fa-list"></i>
            <span>Lists</span>
        </a>
        <a href="disqo.html" class="mobile-nav-item">
            <i class="fas fa-compact-disc"></i>
            <span>Disqo</span>
        </a>
        <a href="koleqtion.html" class="mobile-nav-item">
            <i class="fas fa-folder"></i>
            <span>Library</span>
        </a>
        <a href="upload.html" class="mobile-nav-item">
            <i class="fas fa-upload"></i>
            <span>Upload</span>
        </a>
    </nav>

    <footer>
        <p class="contact">All rights reserved &copy; 2025 juqeboks</p>
        <a id="mail" href="mailto:arminisa@outlook.com" class="contact">contact:mail</a>
        <a id="phone" href="tel:06509014453" class="contact">contact:phone</a>

        <a href="../index.html" class="floating-button">
            <img src="../images/U-pink.png" alt="Juke Logo">
        </a>
    </footer>
</body>
</html>
